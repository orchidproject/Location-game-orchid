\section{Introduction}
In the aftermath of major disasters (man-made or natural), first responders  are usually called into action in order to help save lives and infrastructure. Typically, search and rescue teams are called in to contain fires that might be spreading, dig people out of rubble, attend to casualties, and provide food and other resources to return the affected community to some form of normality. Disasters such as the earthquake that hit Haiti in 2010 (resulting in X no. of casualties, X buildings damaged), or the 9/11 terror attack (resulting in X casualties, and several buildings affected), have shown that the response effort has a major impact on the recovery process. For example, while in Haiti first responders from around the world were able to map the disaster, allocate resources amongst them and respond to requests for help very efficiently, despite no prior interactions among them \cite{[ushahidi]}. In contrast, in the 9/11 attacks, even though emergency services were all based in Manhattan, they suffered several of their own casualties due to poorly coordinated actions \cite{911report}. The use of web and mobile technologies clearly made all the difference in Haiti, where, for example, the Ushahidi\footnote{\url{http://haiti.ushahidi.com}})  platform was used to share information (e.g., using Twitter and mobile phone texts) between different rescue agencies as well as with the local population. 

In a recent report, the UNOCHA (the United Nations),  advocated the increasing use of such technologies in the field to support first responders gather large amounts of data about disasters and the people involved rapidly in order to efficiently assign tasks and resources to different agencies. Such tasks may involve, for example, finding out where the civilians may have been trapped (e.g., requiring search and rescue and medics), carrying them to safe houses (requiring medics and logistics providers), and removing dangerous material from the environment (requiring special forces and security personnel). However, by so doing, first responders  also face a data deluge, having to work with different agencies with different procedures,  potentially deal with too many complex tasks distributed across the disaster space. Hence, to support first responders in coping with such complexities, a number of novel tools and techniques have been developed to process information during disasters and help allocate tasks and resources to first responders. For example, VectorCommand \cite{vectorcommand} incident management systems to help first responders visualise and prioritise tasks at different levels of command (e.g., Bronze level would be mainly concerned with the logistics of an operation, while Silver command would work on high-level tactical task assignments). Moreover, the  RoboCupRescue simulation platform was developed by Japanese researchers in 1995 (after the Hanshin-Awaji earthquake) to help benchmark algorithms to assign tasks to emergency responders. In this simulation platform, first responders are represented as software agents of different types (ambulance, fire, and police) that are tasked with planning routes to specific tasks (e.g., digging out civilians from rubble, exitinguishing fires, and unblocking roads). 


The coordination of teams of first responders in search and rescue missions is a grand challenge for multi-agent systems research \cite{kitano:2001}. In such settings, responders with different capabilities (e.g., fire-fighting or life support) have to form teams in order to perform rescue tasks (e.g., extinguishing a fire or providing first aid) to minimise  loss of life and costs (e.g., time or money). Thus, responders have to plan their paths to the tasks (as these may be distributed in space) and form specific teams  to complete them. These teams, in turn, may  need to disband and reform in different configurations to complete new tasks, taking into account the status  of the current tasks  (e.g., health of victims or building fire) and the environment (e.g., if a fire or radioactive cloud is spreading). Furthermore, uncertainty in the environment (e.g., wind direction or speed) or in the responders' abilities to complete tasks (e.g., some may be tired or get hurt) means that plans are likely to change continually to reflect the prevailing assessment of the situation. 

To address these challenges, a number of algorithms and mechanisms have been developed to form teams and allocate tasks. For example, \cite{ramchurn:etal:2010,Scerri2005} and \cite{Chapman2009}, devised centralised and decentralised optimisation algorithms respectively to allocate rescue tasks efficiently to teams of first responders with different capabilities. However, none of these approaches considered the inherent uncertainty in the environment or in the first responders' abilities. Crucially, to date, while all of these algorithms have been shown to perform well in simulations (representing responders as computational entities), none of them have been \emph{exercised} to guide \emph{real} human responders in real-time rescue missions. Thus, it is still unclear whether these algorithms will cope with real-world uncertainties (e.g., communication breakdowns or changes in wind direction), be acceptable to humans (i.e., be clear for humans and take into account their capabilities), and actually augment, rather than hinder,  human performance.
\\\todo{make sure all these references are ported to the background section}
\todo{add other related work from HCI here as well as RoboCupRescue}


Against this background, we develop a novel algorithm for team coordination under uncertainty and evaluate it within a real-world mixed-reality game that embodies the simulation of team coordination in disaster response settings. In more detail, we consider a scenario involving rescue tasks distributed in a physical space over which a (virtual) radioactive cloud is spreading. Tasks need to be completed by the responders before the area is completely covered by the cloud (as responders will die from radiation exposure) which is spreading according to varying wind speed and direction. Our algorithm captures the uncertainty in the scenario (i.e., in terms of environment and player states) and  is able to compute a policy to allocate responders to tasks that minimises task completion time and ensures responders are not exposed to significant radiation. The algorithm is then used by an agent to guide human responders. Specifically, it is integrated  into our test platform, AtomicOrchid, that structures the interaction between human responders, a human commander, and the planning agent in a mixed-reality location-based game. By so doing, we are able to study, both quantitatively and qualitatively, the performance of a human-agent collective (i.e., a mixed-initiative team where control can shift between humans and agents)  and the interactions between the different actors in the system. In particular, we  advance the state of the art in the following ways:
\begin{enumerate}
\item We develop a novel representation for team coordination (i.e., path planning and task allocation) under uncertainty using Multi-agent Markov Decision Processes (MMDP)  \cite{boutilier1996planning}. Moreover, we provide an algorithm to approximate solutions to the MMDP and show how it  is adaptive to human requests to re-plan task allocations within a team.
\item We present AtomicOrchid, a novel game to evaluate team coordination under uncertainty using the concept of mixed-reality games. AtomicOrchid allows an agent, using our task planning algorithm, to coordinate, in real-time, human players using mobile phone-based messaging, to complete rescue tasks efficiently.
\item We provide a real-world evaluation of a task allocation agent in a disaster response scenario in multiple field trials and present both quantitative and qualitative results. 
\end{enumerate}
When taken together, our results show, for the first time, how agent-based coordination algorithms for disaster response can be integrated and validated with human teams. Moreover, these results allow us to derive a methodology and guidelines to for systems involving  human-agent collaboration. 

The rest of this paper is structured as follows. Section \ref{sec:scenario} formalises the disaster response problem as a MMDP. Section \ref{sec:algo}  describes the algorithm to solve the path planning and task allocation problems presented by the MMDP. Section \ref{sec:atomicorchid}  details the AtomicOrchid platform. Section \ref{sec:evaluation} presents our pilot study and the  field trial evaluation.  Finally, Section \ref{sec:conclusions} concludes.